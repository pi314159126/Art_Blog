"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var e=$("#m_search"),p=$("#header"),v=$("#aircraft"),i=$("#os-herder"),t=$("#nav_list > li"),g=$("#continar-right"),y=$(document).scrollTop(),b=$("#continar-left"),n=$("#piano ul li"),c=$(".mod-header_music-icon"),o=$(".os-headertop .site-search");function a(){this.count=0}a.prototype={init:function(){window.screen.width<1200?(this.mobileFnAll(),this.mobileLabelSlideTab()):(this.pcFnAll(),this.articleReward(),this.stringEffect(),this.pcLabelSlideTab()),this.crumbsRestructure(),this.loadBar(),this.informationLazy_load(),this.navReform(),this.navPianoEffect(),this.isNotResources(),this.websiteRunningTime(),this.imagesEnlarge(),this.pageDetailsFabulous(),this.paperPlane(),this.customerService(),this.smiliesEmoticon(),this.randomArticles(),this.commentStyle(),this.getUserAddress()},inintMusicNav:function(){1!=localStorage.getItem("off_y")?c.removeClass("hover"):c.addClass("hover")},mobileLabelSlideTab:function(){!function(n,e,i){if(n){var o=!1,a=0,s=0,c=0;n.addEventListener("touchstart",function(t){a=t.touches[0].pageX,c="none"==$(n).css("transform")?0:$(n).css("transform").split(/[()]/)[1].split(",")[4]}),n.addEventListener("touchmove",function(t){o=!0;var e=t.touches[0].pageX;s=e-a,$(n).css({transform:"translateX(".concat(parseInt(c)+s,"px)")}),25<parseInt(s)&&t.preventDefault()},{passive:!1}),n.addEventListener("touchend",function(t){o&&15<=Math.abs(s)?0<s?i&&i.call(this,t):e&&e.call(this,t):$(n).css({transform:"translateX(".concat(parseInt(c),"px)")}),o=!1,s=a=0})}}(document.querySelector("#tagCollection"),function(){$(".page_switch span").eq(1).addClass("active").siblings("span").removeClass("active"),$("#tagCollection").css({transform:"translateX(-".concat($("#tagCollection").outerWidth(!0)/2,"px)")})},function(){$(".page_switch span").eq(0).addClass("active").siblings("span").removeClass("active"),$("#tagCollection").css({transform:"translateX(0)"})})},pcLabelSlideTab:function(){$(".page_switch span").mousemove(function(){var t=$(this).index();$(this).addClass("active").siblings("span").removeClass("active"),$("#tagCollection").css({transform:"translateX(".concat(0==t?0:-340,"px)")})})},crumbsRestructure:function(){var t=$(".mod-breadcrumb").html()?$(".mod-breadcrumb").html().trim():"";$(".mod-breadcrumb").html(">"==t.charAt(t.length-1)?t.slice(0,-11):t)},loadBar:function(){$(document).ready(function(){$("header .speed_bar").css({animation:"speed_bar_animation_complete .5s ease-out","animation-fill-mode":"forwards"})})},elementInView:function(t){var e=t.getBoundingClientRect(),n=e.top<window.innerHeight&&0<e.bottom,i=e.left<window.innerWidth&&0<e.right;return n&&i},informationLazy_load:function(){var n=this;function t(){for(var t=document.querySelectorAll("#continar-left .article_list article .Lazy_load"),e=0;e<t.length;e++)n.elementInView(t[e])&&t[e].getAttribute("data-original")&&(t[e].setAttribute("src",t[e].getAttribute("data-original")),t[e].removeAttribute("data-original"))}t(),$(document).scroll(function(){t()})},navReform:function(){for(var t=$("#header .music-nav").children("li"),e=0;e<t.length;e++){var n=t.eq(e).children("a").html();t.eq(e).children("a").text("").append("<span>".concat(n,"</span>")+"<span>".concat(n,"</span>")),t.eq(e).hasClass("current-menu-item")&&t.eq(e).addClass("action"),(0<t.eq(e).find("i").length||0<t.eq(e).find("ul").length)&&t.eq(e).children("a").addClass("icon_show"),t.eq(e).append("<audio src='/wp-content/themes/Art_Blog/music/nav_".concat(e+1,".mp3' preload='meta'></audio>"))}$("#nav_list .sub-menu").siblings("a").attr("href","javascript:void(0);"),$("#nav_list .sub-menu").siblings("a").find("span").append("<i class='iconfont icon-jiantou menu_arrow'></i>"),$("#os-herder .sub-menu").siblings("a").append("<i class='iconfont iconfont_click icon-xiajiantou'></i>"),$("#header .sub-menu").addClass("nav-min"),$("#os-herder .sub-menu").addClass("slide_slect");var i="<li id='backstage' style='display:none'><a href='/wp-admin/' target='_blank'><span>后台管理</span><span>后台管理</span></a>"+"<audio src='/wp-content/themes/Art_Blog/music/nav_".concat(t.length+1,".mp3' preload='meta'></audio>")+"</li><li class='js_piano_nav_icon mod-header_music-icon'><audio src='' preload='meta'></audio><i></i><i></i><i></i><i></i><i></i></li>";$("#header .music-nav").append(i)},navPianoEffect:function(){var t=this,e=null,n=null,i=$(".nav ul.music-nav > li:not(.mod-header_music-icon)");p.hover(function(){clearTimeout(e),t.count=100,$(this).css("z-index","12")},function(){$(".site-search").is(":visible")?p.css("z-index","12"):(clearTimeout(e),e=setTimeout(function(){$(".site-search").is(":visible")||p.css("z-index","10")},1500))});var o=[];i.mouseenter(function(){clearTimeout(e),p.css("z-index","12"),$(this).addClass("active"),o.push({index:$(this).index(),element:i.eq(n).find("audio")}),n=$(this).index(),1==localStorage.getItem("off_y")&&(o[o.length-1].element.get(0).load(),o[o.length-1].element.get(0).play())}),i.mouseleave(function(){0<o.length&&setTimeout(function(){i.eq(o[0].index).removeClass("active"),o.shift()},250)});var a=[65,83,68,70,71,72,74,75,76];$(document).keydown(function(t){if(1==localStorage.getItem("off_y")){var e,n=a.indexOf(t.keyCode);0<=n&&(e=n+1)<=i.length&&(i.eq(e-1).addClass("active keyboard_color"),i.eq(e-1).find("audio").get(0).play())}}),$(document).keyup(function(t){var e=a.indexOf(t.keyCode);0<=e&&(setTimeout(function(){i.removeClass("active keyboard_color")},600),setTimeout(function(){i.eq(e).find("audio").get(0).load()},450))}),(c=$(".mod-header_music-icon")).click(function(t){1!=localStorage.getItem("off_y")?(c.addClass("hover"),localStorage.setItem("off_y",1),layer.msg("菜单音乐已开启~",{time:2e3},function(){layer.msg("无需鼠标，导航音乐键盘A-K也可以体验哦~~")})):(c.removeClass("hover"),localStorage.setItem("off_y",0),layer.msg("菜单音乐已关闭，期待您的下次体验！",{time:4e3})),t.stopPropagation()}),$(".js_piano_nav_icon").mouseenter(function(){1!=localStorage.getItem("off_y")?layer.tips("开启菜单音乐",".js_piano_nav_icon",{tips:3,tipsMore:!1,time:2e3}):layer.tips("关闭菜单音乐",".js_piano_nav_icon",{tips:3,tipsMore:!1,time:2e3})});var s=!0;$(".navto-search a").click(function(){s?p.css("z-index","11"):p.css("z-index","10"),s=!s,$(".site-search.active.pc").toggle(),$(".site-search.active.pc").find("input").focus(),$(".site-search.active.pc").is(":visible")?($(this).find("i").addClass("icon-guanbi"),$(this).find("i").removeClass("icon-sousuo")):($(this).find("i").addClass("icon-sousuo"),$(this).find("i").removeClass("icon-guanbi"))}),p.addClass("Top"),t.inintMusicNav(),window.onstorage=function(){t.inintMusicNav()}},isNotResources:function(){0<$("#continar-left .article_not").length&&$("body").css({background:"#fff"})},websiteRunningTime:function(){setInterval(function(){var t=Math.round(new Date(Date.UTC(2016,10,16,0,0,0)).getTime()/1e3),e=function(t){if(!t)return 0;var e=new Array(0,0,0,0,0);return 31536e3<=t&&(e[0]=parseInt(t/31536e3),t%=31536e3),86400<=t&&(e[1]=parseInt(t/86400),t%=86400),3600<=t&&(e[2]=parseInt(t/3600),t%=3600),60<=t&&(e[3]=parseInt(t/60),t%=60),0<t&&(e[4]=t),e}(Math.round(((new Date).getTime()+288e5)/1e3)-t),n="".concat(e[0],"年").concat(e[1],"天").concat(e[2],"时").concat(e[3],"分").concat(e[4],"秒");$("#htmer_time").html(n)},1e3)},imagesEnlarge:function(){var t=function(n,i){var o;return["webkit","moz","ms","o",""].forEach(function(t){if(!o){""===t&&(i=i.slice(0,1).toLowerCase()+i.slice(1));var e=_typeof(n[t+i]);"undefined"!="".concat(e)&&(o="function"===e?n[t+i]():n[t+i])}}),o};if("number"==typeof window.screenX)for(var e=document.querySelectorAll(".log-text img"),n=0;n<e.length;n++)e[n].addEventListener("click",function(){t(document,"FullScreen")||t(document,"IsFullScreen")?(t(document,"CancelFullScreen"),this.title=this.title.replace("退出","")):t(this,"RequestFullScreen")&&(this.title=this.title.replace("点击","点击退出"))});else layer.alert("亲，这都什么年代了，您还在用这么土的浏览器吗~~",{skin:"layui",title:"请更换浏览器",closeBtn:0,shade:.5,shadeClose:!0,anim:4})},pageDetailsFabulous:function(){setTimeout(function(){$(".page-reward .page-reward-btn .tooltip-item font,.page-reward .page-reward-btn .tooltip-item a").toggleClass("s_show")},2e3),$.fn.postLike=function(){if($(this).hasClass("done"))return!1;$(this).addClass("done");var t=$(this).data("id"),e=$(this).data("action"),n=$(this).children(".count"),i={action:"bigfa_like",um_id:t,um_action:e};return $.post("/wp-admin/admin-ajax.php",i,function(t){$(n).html(t)}),!1},$(document).on("click",".favorite",function(){$(this).postLike()})},paperPlane:function(){var e=this;v.click(function(){$(this).animate({bottom:"0",opacity:"1"},100,function(){setTimeout(function(){$("body,html").animate({scrollTop:0},1200),p.css("z-index","10"),v.animate({top:"0",bottom:"auto",opacity:"0"},700,function(){setTimeout(function(){v.css({bottom:"60px",top:"auto",opacity:"1"})},500)})},300)})}),500<y&&v.css({display:"block",opacity:"1"});var n=0,i=0,o=0,a=0,s=0,c=0;function r(){if(500<(y=$(document).scrollTop())?v.css({display:"block",opacity:"1"}):v.css({display:"none",opacity:"0"}),y<=0?(p.addClass("Top"),p.removeClass("hover"),p.css("z-index","10")):(p.removeClass("Top"),p.addClass("hover"),p.css("z-index","12")),1200<$(window).width()&&g.length&&0<b.height()-g.height())if(e.elementInView($(".footer")[0]))if(e.elementInView($(".footer")[0])&&i<=o){var t=n-(o+(b.offset().top-$(document).scrollTop()));g.css({position:"fixed",bottom:"".concat(t,"px"),left:"".concat(c,"px")})}else g.css({position:"static",bottom:"auto",left:"auto"});else i-n<y-(2*a-10)&&s?g.css({position:"fixed",bottom:"10px",left:"".concat(c,"px")}):g.css({position:"static",bottom:"auto",left:"auto"})}var l,u,d,f,h,m=(l=function(){n=$(window).height(),i=g.outerHeight(),o=b.outerHeight(!0),a=$("#continar-right > div:last-of-type").outerHeight(!0),s=i<=o,c=b.offset()?b.offset().left+b.outerWidth()+10:0},u=1e3,d=2e3,h=new Date,function(t){var e=new Date;clearTimeout(f),e-h<d?f=setTimeout(function(){l(t),h=e},u):(l(t),h=e)});window.onload=function(){var t=setInterval(function(){e.count++,5<e.count?clearInterval(t):(m(),r())},500)},$(document).scroll(function(){m(),r()}),window.onresize=function(){m(),r()}},customerService:function(){$(".communication").hover(function(){$(this).stop().animate({right:"0"},350)},function(){$(this).stop().animate({right:"-85px"},350)})},articleReward:function(){$(".js_reward").click(function(){layer.open({content:$("#reward-popup"),type:1,title:!1,skin:"reward_model",area:["500px","360px"],shadeClose:!0,success:function(t){var e=t[0].childNodes[1];e.childNodes[0].removeAttribute("href"),e.classList.add("cursorStyle"),e.childNodes[0].classList.remove("layui-layer-close2"),e.childNodes[0].classList}})})},stringEffect:function(){String.prototype.gblen=function(){for(var t=0,e=0;e<this.length;e++)127<this.charCodeAt(e)||94==this.charCodeAt(e)?t+=2:t++;return t},$.extend($.easing,{easeOutElastic:function(t,e,n,i,o){var a=1.70158,s=0,c=i;return 0==e?n:1==(e/=o)?n+i:(s||(s=.3*o),a=c<Math.abs(i)?(c=i,s/4):s/(2*Math.PI)*Math.asin(i/c),c*Math.pow(2,-10*e)*Math.sin((e*o-a)*(2*Math.PI)/s)+i+n)}}),$.fn.qin=function(t){var e=$.extend({},{offset:22,duration:500,recline:.1},t);return this.each(function(){var i,r,l,o,t=$(this);!function(t){var e="",n=0;if(t.text().trim().gblen()<41)e=t.text().trim();else for(var i=0;i<41&&e.gblen()<41;i++)e="".concat(t.text().trim().slice(0,n),"..."),n++;for(var o="",a=0,s=e.length;a<s;a++)o+="<span>".concat(e.substr(a,1),"</span>");t.html(o);var c=[];t.children("span").each(function(){var t=$(this),e=t.position();c.push(e),t.css({top:"".concat(0,"px"),left:"".concat(e.left,"px")}),setTimeout(function(){t.css("position","absolute")},0)}),t.data("stringPosition",c)}(t),r=e,l=(i=t).data("stringPosition"),o=0,i.mouseenter(function(t){var e=i.offset();o=t.pageY-e.top}),i.mousemove(function(t){var e=i.offset(),a=t.pageX-e.left,n=t.pageY-e.top,s=n-o;if(!(Math.abs(s)>r.offset)){var c=0<s;i.children("span").each(function(t){var e=$(this),n=l[t],i=Math.abs(a-n.left)*r.recline;i*=c?1:-1;var o=n.top+s-i;c&&o<n.top?o=n.top:!c&&o>n.top&&(o=n.top),e.css({top:"".concat(o,"px")})})}}),i.mouseleave(function(){i.children("span").each(function(){$(this).stop(!0,!1).animate({top:"".concat(0,"px")},{duration:r.duration,easing:"easeOutElastic"})})})})},n.find("a").qin({offset:20,duration:500,recline:.1})},smiliesEmoticon:function(){$("#commentform .expression").click(function(){$("#smilies_modal").toggle(),$("#smilies_modal img").each(function(){$(this).attr("src",$(this).attr("data-src"))})})},randomArticles:function(){for(var t=0;t<=n.length;t++)n.eq(t).find("em").html(t+1)},commentStyle:function(){"none"!==$("#cancel-comment-reply-link").css("display")?$("#reply-title").show():$("#reply-title").hide()},getUserAddress:function(){for(var i=document.querySelectorAll(".comment-ipFrom"),t=function(e){var t=i[e].innerText,n=new XMLHttpRequest;n.open("GET","https://player.lzti.com/open/ip?key=fd8c10003902479d81b747b83009f0b4&type=json&ip=".concat(t)),n.onload=function(){var t=JSON.parse(n.responseText).data.ad_info;"中国"!=t.nation?i[e].innerHTML='<i class="iconfont icon-dizhi"></i> 来自'.concat(t.nation).concat(t.province):i[e].innerHTML='<i class="iconfont icon-dizhi"></i> 来自'.concat(t.province)},n.send()},e=0;e<i.length;e++)t(e)},mobileFnAll:function(){var t=!0;$(".btn_menu,.cover").on("touchmove",function(t){t.preventDefault()}),$(".btn_menu,.cover").on("touchstart",function(){i.css("transition","all 0.25s"),$(".cover").toggle(),t?(i.css({transform:"translateX(0)"}),$(".continar,.os-headertop").css({transform:"translateX(3.2rem)"}),$(".weipxiu_nav").attr("href","javascript:void(0);")):(i.css({transform:"translateX(-3.21rem)"}),$(".continar,.os-headertop").css({transform:"translateX(0)"}),setTimeout(function(){$(".weipxiu_nav").attr("href","/")},800));t=!t,$(".site-search").is(":visible")&&(o.slideToggle(100),e.find("i").addClass("icon-sousuo"),e.find("i").removeClass("icon-guanbi"))}),$("#os-herder,.site-search").on("touchmove",function(t){t.preventDefault()}),document.addEventListener("touchstart",function(t){1<t.touches.length&&t.preventDefault()});var n=0;document.addEventListener("touchend",function(t){var e=(new Date).getTime();e-n<=300&&t.preventDefault(),n=e},!1),e.on("touchstart",function(){o.toggle(),o.is(":visible")?($(this).find("i").addClass("icon-guanbi"),$(this).find("i").removeClass("icon-sousuo")):($(this).find("i").addClass("icon-sousuo"),$(this).find("i").removeClass("icon-guanbi"))}),i.on("touchstart","ul.slide-left li:has(.slide_slect) > a",function(t){$(this).parent().siblings("li").find(".slide_slect").slideUp(),$(this).parent().siblings("li").find(".iconfont_click").removeClass("icon-shangjiantou").addClass("icon-xiajiantou"),$(this).siblings(".slide_slect").stop().slideToggle(),$(this).parent().find(".iconfont_click").toggleClass("icon-xiajiantou icon-shangjiantou"),t.stopPropagation()})},pcFnAll:function(){$(".login_alert_close").click(function(){$(".login_alert").slideUp()});t.find(".sub-menu").each(function(){$(this).find("li").each(function(t){$(this).css("transition-delay","".concat(45*t,"ms"))})}),t.hover(function(){var e=$(this);$(this).find(".sub-menu li").each(function(t){$(this).css("transition-delay","".concat(45*e.find(".sub-menu li").length-45*t,"ms"))})},function(){$(this).find(".sub-menu li").each(function(t){$(this).css("transition-delay","".concat(45*t,"ms"))})}),0<$("#continar-left .article_not").length&&$("body > .continar").css({height:"calc(100% - 280px)"}),document.oncontextmenu=function(){return layer.msg("别看啦，宝宝好羞涩*^_^*"),!1}}},$(function(){(new a).init()})}(),$(function(){var t="".concat(window.location.protocol,"//").concat(window.location.host),n="".concat(t,"/"),l="continar-left",e="searchform",i=new String("/page/").split(", "),r="error",u=!1,d=!1,f=!1,o=null;function h(t){jQuery("".concat(t,"a")).click(function(t){if(0<=this.href.indexOf(n)&&1==s(this.href)){t.preventDefault(),this.blur();try{e=this,jQuery("ul.nav li").each(function(){jQuery(this).removeClass("current-menu-item")}),jQuery(e).parents("li").addClass("current-menu-item")}catch(t){}a(this.href)}var e}),jQuery(".".concat(e)).each(function(){jQuery(this).attr("action")&&(o=jQuery(this).attr("action"),jQuery(this).submit(function(){var t;return t=jQuery(this).serialize(),d||a(o,0,t),!1}))}),jQuery(".".concat(e)).attr("action")}function a(t,e,n){if(!d){f=d=!0;var i=t.replace("http://","").replace("https://",""),o=i.indexOf("/"),a=t.indexOf(i),s=t.substring(a+o);if(1!=e&&"function"==typeof window.history.pushState){var c={foo:1e3+1001*Math.random()};history.pushState(c,"ajax page loaded...",s)}jQuery("#loading").show(),jQuery("#".concat(l)).fadeTo("slow",1,function(){jQuery("#".concat(l)).fadeIn("slow",function(){jQuery.ajax({type:"GET",url:t,data:n,cache:!1,dataType:"html",success:function(t){d=!1;var e=t.split("<title>"),n=t.split("</title>");if(jQuery("#loading").hide(),jQuery(".continar").css({scrollTop:0}),jQuery("html,body,.continar").animate({scrollTop:0},600),2==e.length||2==n.length){var i=t.split("<title>")[1].split("</title>")[0];jQuery(document).attr("title",jQuery("<div/>").html(i).text())}t=(t=t.split('id="'.concat(l,'"'))[1]).substring(t.indexOf(">")+1);for(var o=1,a="";0<o;){for(var s=t.split("</div>")[0],c=0,r=s.indexOf("<div");-1!=r;)c++,r=s.indexOf("<div",r+1);o=o+c-1,a="".concat(a+t.split("</div>")[0],"</div>"),t=t.substring(t.indexOf("</div>")+6)}document.getElementById(l).innerHTML=a,jQuery("#".concat(l)).css("position","absolute"),jQuery("#".concat(l)).css("left","20000px"),jQuery("#".concat(l)).show(),h("#".concat(l," ")),1==u&&jQuery(document).trigger("ready");try{jQuery(".mod-index__feature .img_list_6pic a").removeClass("word_display"),jQuery("#continar-right").css({position:"static",bottom:"auto",left:"auto"})}catch(t){}jQuery("#".concat(l)).hide(),jQuery("#".concat(l)).css("position",""),jQuery("#".concat(l)).css("left",""),jQuery("#".concat(l)).fadeTo("slow",1,function(){})},error:function(){d=!1,document.title="Error loading requested page!",document.getElementById(l).innerHTML=r}})})})}}function s(t){for(var e in i)return 0<=t.indexOf(i[e])}jQuery("#".concat(l)).length&&(jQuery(document).ready(function(){h("")}),window.onpopstate=function(){!0===f&&1==s(document.location.toString())&&a(document.location.toString(),1)})});